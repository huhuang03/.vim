" tongh's vimrc file

"   set guifont
set guifont=Menlo\ Regular:h18
" autocmd set guifont
"autocmd BufEnter *.txt set guifont=Arial\ 12

" set highlight
" more than 73 letters
match ErrorMsg /\%>73v.\+/
" match tab use for not code
match ErrorMsg /[^\t]\zs\t\+/

"set encoding
set fileencodings=ucs-bom,utf-8,cp936,gb18030,big5,euc-jp,euc-kr,latin1
set fileencoding=utf-8
set encoding=utf-8

" set backspace
set backspace=2

nmap <leader>l :set list!<CR>
set listchars=tab:▸\ ,eol:¬

" set tab method
command! -nargs=* Stab call Stab()
function! Stab()
    let l:tabstop = 1 * input('set tabstop = softtabstop = shiftwidth = ')
    if l:tabstop > 0
        let &l:sts = l:tabstop
        let &l:ts = l:tabstop
        let &l:sw = l:tabstop
    endif
    call SummarizeTabs()
endfunction

function! SummarizeTabs()
    try
        echohl ModeMsg
        echon 'tabstop='.&l:ts
        echon ' shiftwidth='.&l:sw
        echon ' softtabstop='.&l:sts
        if &l:et
            echon ' expandtab'
        else
            echon ' noexpandtab'
        endif
    finally
        echohl None
    endtry
endfunction

if has("autocmd")
    filetype on

    autocmd FileType html setlocal ts=2 sts=2 sw=2 expandtab
    autocmd FileType php setlocal ts=4 sts=4 sw=4 expandtab
endif
